<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="SupplyRec-Mapper">

	<select id="selectSupplyRecByNo" parameterType="int" resultType="supplyRec">
		select id, name, email, picture, sup_no, rec_wantedno, open_seqno, sup_date, ind_bir, ind_gender, ind_score, ind_open, ind_addr, ind_fedu, ind_wishsec, ind_wishsal
		from member m, supply_rec s, ind_member i 
		where m.id = s.ind_id and s.ind_id = i.ind_id and s.open_seqno = #{open_seqno}
	</select>

	<select id="selectSupplyRecruitListById" parameterType="str" resultType="supplyRec">
		select rownum,
		a.*,
		b.rec_wantedno,
		b.co_name,
		b.rec_indtpcdnm,
		b.rec_wantedtitle,
		b.rec_receiptclosedt,
		b.rec_regdt,
		b.rec_region
		from supply_rec a, recruit b
		where a.rec_wantedno = b.rec_wantedno
		and a.rec_wantedno is not null
		and ind_id=#{id}
	</select>

	<select id="selectSupplyOpenRecListById" parameterType="str" resultType="supplyRec">
		select rownum,
               a.*,
               b.open_seqno,
               b.open_title,
               b.open_conm,
               b.open_region,
               b.open_sdate,
               b.open_edate
          from supply_rec a, open_rec b
         where a.open_seqno = b.open_seqno
           and a.open_seqno is not null
           and ind_id=#{id}
	</select>
	
</mapper>